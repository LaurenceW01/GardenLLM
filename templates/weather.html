{% extends "base.html" %}

{% block title %}GardenLLM - Weather{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
        <h1 class="text-3xl font-bold mb-4 text-green-700">Weather Forecast & Plant Care</h1>
        
        <!-- Climate Context -->
        {% if climate_context %}
        <div class="bg-blue-50 p-4 rounded-lg mb-6">
            <h3 class="font-bold text-lg mb-2 text-blue-700">Climate Context ({{ default_location }})</h3>
            <p class="text-sm text-blue-600">{{ climate_context }}</p>
        </div>
        {% endif %}
        
        <!-- Weather Summary -->
        {% if weather_summary %}
        <div class="bg-gray-50 p-6 rounded-lg mb-8">
            <h2 class="text-2xl font-bold mb-4 text-green-700">Weather Summary</h2>
            <div class="prose max-w-none">
                {{ weather_summary | safe }}
            </div>
        </div>
        {% endif %}

        <!-- Plant Care Recommendations -->
        {% if plant_care_recommendations %}
        <div class="bg-gray-50 p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4 text-green-700">Plant Care Recommendations</h2>
            <div class="prose max-w-none">
                {{ plant_care_recommendations | safe }}
            </div>
        </div>
        {% endif %}
        
        <!-- No Data Message -->
        {% if not weather_summary and not plant_care_recommendations %}
        <div class="bg-yellow-50 p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4 text-yellow-700">Weather Information Unavailable</h2>
            <p class="text-yellow-600">Unable to retrieve weather information at this time. Please try again later.</p>
        </div>
        {% endif %}
    </div>
</div>

<style>
/* Add some basic markdown styling */
.prose {
    @apply text-gray-900;
}
.prose h1 {
    @apply text-2xl font-bold mb-4;
}
.prose h2 {
    @apply text-xl font-bold mb-3;
}
.prose h3 {
    @apply text-lg font-bold mb-2;
}
.prose p {
    @apply mb-2;
}
.prose ul {
    @apply list-disc list-inside mb-2;
}
.prose ol {
    @apply list-decimal list-inside mb-2;
}
.prose code {
    @apply bg-gray-100 px-1 rounded;
}
.prose pre {
    @apply bg-gray-100 p-2 rounded mb-2 overflow-x-auto;
}
.prose blockquote {
    @apply border-l-4 border-gray-300 pl-4 italic;
}
</style>
{% endblock %} 